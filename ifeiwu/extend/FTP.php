<?php
 class FTP { private $host; private $user; private $pass; private $connid; private $port; private $timeout; public function __construct($host, $user = '', $pass = '', $port = 21, $timeout = 30) { $this->host = $host; $this->user = $user; $this->pass = $pass; $this->port = $port; $this->timeout = $timeout; } public function connect() { $this->connid = ftp_connect($this->host, $this->port, $this->timeout); if ($this->connid === false) { $this->connid = ftp_ssl_connect($this->host, $this->port, $this->timeout); } return $this->connid !== false; } public function login() { return ftp_login($this->connid, $this->user, $this->pass); } public function __call($func, $params) { if (function_exists('ftp_' . $func)) { array_unshift($params, $this->connid); return call_user_func_array('ftp_' . $func, $params); } else { throw new \Exception("ftp_$func is not a valid FTP function"); } } } 