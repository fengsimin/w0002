<?php
namespace ifeiwu; class Loader { public static function register() { spl_autoload_register('self::autoload'); } private static function autoload($class) { $class = str_replace('\\', DIRECTORY_SEPARATOR, $class); if (strpos($class, '/')) { list($name, $class) = explode('/', $class, 2); if ($name == 'ifeiwu') { $filename = LIB_PATH . "$class.php"; } else { $filename = APP_PATH . "$name/$class.php"; } } if (is_file($filename)) { require_once $filename; } } public static function extend($class) { self::import($class, 'extend/'); } public static function vendor($class) { self::import($class, 'vendor/'); } public static function import($class, $path = '') { $filename = IFW_PATH . $path . $class . '.php'; if (is_file($filename)) { require_once $filename; } } } 