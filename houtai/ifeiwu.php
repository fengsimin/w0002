<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto Kxe_2; k0ZRc: q9nF9: goto xm38z; LZYWS: $this->order = array(); goto z_RCe; aUJYC: Vy3nE: goto k0ZRc; HwgR6: if (!$this->table) { goto q9nF9; } goto Yrhst; E30zW: kxIPp: goto FE2jE; YmYgA: $this->fields = $this->_getTableFields($this->table); goto LZYWS; s_9Qk: $this->order[] = "\x63\164\x69\155\x65\40\104\x45\x53\103"; goto aUJYC; Yrhst: $this->db = ifeiwu\Db::getInstance(); goto OKVkH; Kxe_2: $this->admin = $_GET["\x61\144\x6d\151\156"]; goto HwgR6; FE2jE: if (!in_array("\143\164\x69\155\145", $this->fields)) { goto Vy3nE; } goto s_9Qk; wJtL3: $this->order[] = "\x73\x6f\x72\x74\142\171\x20\x44\105\123\103"; goto E30zW; z_RCe: if (!in_array("\163\157\x72\164\142\x79", $this->fields)) { goto kxIPp; } goto wJtL3; OKVkH: $this->prefix = $this->db->getPrefix(); goto YmYgA; xm38z: } public function __destruct() { goto dhX3T; dhX3T: if (!APP_DEBUG) { goto G2_HJ; } goto bKSxo; e7d5M: G2_HJ: goto KxKzM; bKSxo: $this->_debug($this->db->log()); goto e7d5M; KxKzM: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto NV6MB; S70s8: if (is_array($message)) { goto fY1JC; } goto hKkD1; XFXrx: aSgRD: goto Pswo6; gPAci: $res["\143\157\x64\145"] = $code; goto S70s8; vVCAb: $res["\x64\x61\x74\141"] = $data; goto XFXrx; NV6MB: $res = array(); goto gPAci; GAQBj: if (!$data) { goto aSgRD; } goto vVCAb; hKkD1: $res["\155\145\163\x73\x61\147\145"] = $message; goto Mde2w; Pswo6: return $res; goto cqccl; revA4: fY1JC: goto wShAS; Mde2w: goto Xrhvs; goto revA4; MHYxV: Xrhvs: goto GAQBj; wShAS: $res["\x64\141\164\x61"] = $message; goto MHYxV; cqccl: } protected function _bulidData($request_data) { goto QHBGD; QsXYR: CxKpO: goto DpoMp; DIiaj: if (!isset($request_data["\x63\x74\x69\155\x65"])) { goto ybDJP; } goto o8bmh; nArxA: return $data; goto wn8bs; U58QR: if (!in_array("\x74\151\x74\x6c\145", $this->fields)) { goto Rebxw; } goto PlgTb; UbbWf: if (!($pid > 0 && in_array("\x6a\163\157\156", $this->fields))) { goto S3TT2; } goto dKyxP; YP9kB: ybDJP: goto xKQYj; o8bmh: $data["\x63\x74\151\x6d\x65"] = strtotime($request_data["\143\164\x69\x6d\145"]); goto YP9kB; DpoMp: $data["\x73\164\x61\164\145"] = isset($data["\163\164\141\164\x65"]) ? $data["\x73\x74\141\x74\x65"] : 0; goto DIiaj; rERTg: S3TT2: goto nArxA; Fa5Pr: r1hDH: goto LxDe5; bVihW: $data["\152\x73\x6f\156"] = $category ? json_encode(array("\x63" => $category)) : ''; goto rERTg; lSyEV: if (!in_array("\x61\154\x69\x61\163", $this->fields)) { goto r1hDH; } goto efpZ3; efpZ3: $column[] = "\x61\154\151\141\x73"; goto Fa5Pr; mbcm0: foreach ($this->fields as $field) { goto ZSIQl; bkDdZ: if (!($value !== null)) { goto pyxdy; } goto uxqn3; D1b8f: pyxdy: goto XTBfd; uxqn3: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto D1b8f; XTBfd: fyT7q: goto duNxT; ZSIQl: $value = $request_data[$field]; goto bkDdZ; duNxT: } goto QsXYR; f7Q4V: Rebxw: goto lSyEV; xKQYj: $pid = $data["\160\151\144"]; goto UbbWf; QHBGD: $data = array(); goto mbcm0; dKyxP: $column = array("\151\144"); goto U58QR; PlgTb: $column[] = "\x74\x69\164\154\145"; goto f7Q4V; LxDe5: $category = $this->db->select($this->table, $column)->where("\151\x64\40\75\x20{$pid}")->get(); goto bVihW; wn8bs: } protected function _encode($data) { goto AmbBi; JXmFm: return $tmp; goto KnL5A; PcaEf: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); kVRuw: } goto v_4kh; v_4kh: UjYIW: goto JXmFm; k8F3x: d98zo: goto TeKp1; TeKp1: if (!is_object($data)) { goto tPV5o; } goto Ezmy8; aycqA: return array_map(array($this, "\x5f\x65\156\x63\157\x64\145"), $data); goto k8F3x; AmbBi: if (!is_array($data)) { goto d98zo; } goto aycqA; Ezmy8: $tmp = clone $data; goto PcaEf; KnL5A: tPV5o: goto Uvd5s; Uvd5s: return htmlspecialchars($data, ENT_QUOTES); goto ZM4Yp; ZM4Yp: } protected function _decode($data) { goto LXw1x; C6fGE: return htmlspecialchars_decode($data, ENT_QUOTES); goto I5lln; LZxYH: oh9zI: goto KbntL; XauWR: HYKHM: goto C6fGE; m2DEW: if (!is_object($data)) { goto HYKHM; } goto RSXOW; KbntL: return $tmp; goto XauWR; Y67sd: sD6Uz: goto m2DEW; RSXOW: $tmp = clone $data; goto fIRHM; rce1i: return array_map(array($this, "\137\x64\145\x63\157\144\x65"), $data); goto Y67sd; fIRHM: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); mgiSb: } goto LZxYH; LXw1x: if (!is_array($data)) { goto sD6Uz; } goto rce1i; I5lln: } protected function _getTableFields($table) { goto hGlOn; ORGqz: $i = 0; goto CHwME; CHwME: y0XCE: goto n4PCd; hGlOn: if ($table) { goto LJDez; } goto oBGZZ; DTntk: LJDez: goto S69li; tjX8e: $fields[] = $column["\x6e\141\155\145"]; goto OtNHS; MYxYs: $query = $this->db->query("\123\105\x4c\x45\x43\124\x20\52\x20\106\122\x4f\x4d\40{$table}"); goto btqJa; S69li: $table = $this->prefix . $table; goto U13Z2; DWJ8j: return $fields; goto oSvFK; oBGZZ: $table = $this->prefix . $this->table; goto JTZ3t; OtNHS: sScAY: goto WklVB; n4PCd: if (!($i < $count)) { goto tw5Uk; } goto cURnT; btqJa: $count = $query->columnCount(); goto ORGqz; JTZ3t: goto euJie; goto DTntk; Epgdz: tw5Uk: goto DWJ8j; cURnT: $column = $query->getColumnMeta($i); goto tjX8e; Lg7rH: goto y0XCE; goto Epgdz; U13Z2: euJie: goto MYxYs; WklVB: $i++; goto Lg7rH; oSvFK: } protected function _callback($method, $params) { goto OmWHx; NoeI3: rNo2_: goto Hj8Rc; o1ebr: call_user_func_array(array($this, $method), $params); goto NoeI3; OmWHx: if (!(is_callable(array($this, $method)) !== false)) { goto rNo2_; } goto o1ebr; Hj8Rc: } protected function _getLevel($pid, $id) { goto MICU4; YZFai: KklD3: goto TC9nR; hmH1L: $list[] = $pid; goto X0ihF; aQMFj: if (count($list) == 0) { goto WxiGV; } goto TbBkF; yzfpr: goto KklD3; goto UUQvN; TbBkF: if ($id) { goto mxOd_; } goto N1ZDi; MICU4: static $list = array(); goto xp5Z8; gwWC4: mZua9: goto aQMFj; YKDE5: return "\x2c" . implode("\54", array_reverse($list)) . "\54" . $id . "\x2c"; goto YZFai; UUQvN: mxOd_: goto YKDE5; LTIk6: $pid = $this->db->select($this->table, "\160\x69\x64")->where(array("\151\x64", "\75", $id))->get(0); goto Y1tIc; s5hnb: return "\x2c" . $id . "\54"; goto u6VuU; N1ZDi: return "\x2c" . implode("\x2c", array_reverse($list)) . "\54"; goto yzfpr; TC9nR: goto Hq2Mi; goto cEqUV; xp5Z8: if (!($pid === '')) { goto H2A1o; } goto LTIk6; X0ihF: $this->_getLevel('', $pid); goto gwWC4; cEqUV: WxiGV: goto s5hnb; u6VuU: Hq2Mi: goto gK8W9; Y1tIc: H2A1o: goto Blxni; Blxni: if (!($pid != 0)) { goto mZua9; } goto hmH1L; gK8W9: } protected function _saveData($table, $data, $where) { goto B4LTV; i_eDv: sEjgP: goto tlX_l; B4LTV: if ($this->db->select($table)->where($where)->has()) { goto zOz5Q; } goto XOm52; CcGhN: zOz5Q: goto Y0oHQ; Y0oHQ: return $this->db->update($table, $data, $where)->is(); goto i_eDv; XOm52: return $this->db->insert($table, $data)->is(); goto Dy6Wl; Dy6Wl: goto sEjgP; goto CcGhN; tlX_l: } protected function _saveImages($pid, $request_data) { goto XgCEU; xTNDw: $data["\143\x74\x69\155\145"] = time(); goto erIHI; XgCEU: $images_id = $request_data["\x69\155\x61\x67\x65\x73\137\x69\x64"]; goto VuXb8; q6PcS: $images_name = $request_data["\x69\x6d\x61\147\x65\x73\x5f\x6e\141\155\145"]; goto Jj41D; MF9Nk: $data["\x74\171\x70\145"] = "\151\155\141\x67\x65"; goto H7875; VuXb8: $images_order = $request_data["\x69\155\141\x67\145\x73\137\x6f\x72\144\145\162"]; goto sdwX6; shVfo: $images_state = $request_data["\x69\x6d\x61\147\145\163\x5f\163\164\141\164\x65"]; goto MF9Nk; Jj41D: $images_path = $request_data["\151\x6d\141\147\145\163\137\160\141\164\150"]; goto shVfo; H7875: $data["\x70\151\x64"] = $pid; goto xTNDw; GQf2y: cK1DD: goto t32bg; erIHI: foreach ($images_id as $i => $id) { goto aNnAK; FNN8Z: $this->db->insert($this->table, $data); goto lf51Z; Hi_Y2: goto CU337; goto c0JRS; zzTMy: $data["\x73\x74\x61\x74\145"] = $images_state[$i]; goto DmHET; isVhL: yCNXY: goto fBesU; BVW5T: $data["\x69\155\x61\147\145\x5f\160\x61\x74\150"] = $images_path[$i]; goto FNN8Z; c0JRS: h7qKq: goto xlzXx; aNnAK: $data["\x74\x69\x74\x6c\145"] = $images_title[$i]; goto nOVIU; xlzXx: $data["\x69\x6d\x61\x67\145"] = $images_name[$i]; goto BVW5T; AtRcW: $this->db->update($this->table, $data, array("\x69\x64", "\x3d", $id)); goto Hi_Y2; DmHET: if (empty($id)) { goto h7qKq; } goto AtRcW; nOVIU: $data["\157\x72\144\145\x72\142\171"] = $images_order[$i]; goto zzTMy; lf51Z: unset($data["\151\x6d\141\x67\145"], $data["\x69\155\x61\147\x65\x5f\160\141\164\x68"]); goto Oecak; Oecak: CU337: goto isVhL; fBesU: } goto GQf2y; sdwX6: $images_title = $request_data["\x69\155\141\147\145\x73\137\164\151\x74\154\x65"]; goto q6PcS; t32bg: } protected function _removeFiles2($files) { goto GOZUu; S3bSm: P6tTG: goto wka3h; kZXmF: foreach ($files as $key => $value) { goto TpR1B; SmzlJ: $prefixs = explode("\x2c", $prefix); goto r8QLE; V5dAI: pjQZ_: goto DqyST; nAnqb: qFWEA: goto wkwwH; vBNGe: $path = "\x2e\56\57" . $value["\160\141\x74\150"]; goto LBxOA; LBxOA: $prefix = $value["\x70\x72\145\x66\151\x78"]; goto U1JPQ; wZYHR: O53Qm: goto R55H3; a5Ks5: goto O53Qm; goto njGBO; h1ohi: if (!file_exists($filename)) { goto qFWEA; } goto UjkLa; DqyST: KFeLZ: goto wZYHR; TpR1B: $name = $value["\156\141\x6d\145"]; goto GAR8M; U1JPQ: if ($prefix) { goto SNgsb; } goto l6DLO; o8rw8: SNgsb: goto SmzlJ; GAR8M: if ($name) { goto vU5Et; } goto a5Ks5; UjkLa: unlink($filename); goto nAnqb; l6DLO: $filename = $path . "\x2f" . $name; goto h1ohi; njGBO: vU5Et: goto vBNGe; wkwwH: goto KFeLZ; goto o8rw8; r8QLE: foreach ($prefixs as $prefix) { goto s8Y39; w13mT: bjlBA: goto lRxOB; s8Y39: $filename = "{$path}\x2f{$prefix}{$name}"; goto pOPlo; WokqR: unlink($filename); goto w13mT; pOPlo: if (!file_exists($filename)) { goto bjlBA; } goto WokqR; lRxOB: tOAqA: goto HPATL; HPATL: } goto V5dAI; R55H3: } goto gUX6b; gUX6b: dguVn: goto yjijt; wka3h: if (!$files) { goto n8XkW; } goto kZXmF; Au3Of: $files = json_decode($files, true); goto S3bSm; GOZUu: if (!(!empty($files) && !is_array($files))) { goto P6tTG; } goto Au3Of; yjijt: n8XkW: goto fK70b; fK70b: } protected function _mkdir($path, $mode = 493) { goto Ivi5B; Ivi5B: if (is_dir($path)) { goto yzH5z; } goto k0RwA; k0RwA: return mkdir($path, $mode, true); goto YT5uU; izseQ: return false; goto Nm_QN; YT5uU: yzH5z: goto izseQ; Nm_QN: } protected function _rmdir($path) { goto NxBDu; paiCA: udNDf: goto urlCp; OFGUk: closedir($handle); goto iA2mm; GutMo: return false; goto MEt5o; al6Jl: CwOyS: goto gDd9o; bQ97h: Wi1OY: goto OFGUk; XPmHa: goto npTSf; goto duBvU; iA2mm: if (rmdir($path)) { goto iWnW9; } goto Ksv10; wRJbv: if (!($item != "\x2e" && $item != "\56\56")) { goto tzr3J; } goto y28KU; WttN5: if (!($handle = opendir($path))) { goto zicTS; } goto paiCA; MVBPw: unlink("{$path}\57{$item}"); goto HoGmE; gDd9o: $this->_rmdir("{$path}\57{$item}"); goto QtXv8; mASLq: zicTS: goto G1QVt; RaBYa: return true; goto KLCZC; y28KU: if (is_dir("{$path}\57{$item}")) { goto CwOyS; } goto MVBPw; ZpuMY: goto udNDf; goto bQ97h; duBvU: iWnW9: goto RaBYa; NxBDu: if (is_dir($path)) { goto YKUdO; } goto GutMo; Ksv10: return false; goto XPmHa; Kc_F2: tzr3J: goto ZpuMY; HoGmE: goto FXAb8; goto al6Jl; MEt5o: YKUdO: goto WttN5; QtXv8: FXAb8: goto Kc_F2; urlCp: if (!(false !== ($item = readdir($handle)))) { goto Wi1OY; } goto wRJbv; KLCZC: npTSf: goto mASLq; G1QVt: } protected function _bulidUploadPath($temp_path, $data) { goto KkJ7w; T91AA: vboo2: goto u2vg7; zZbSa: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto vi1vK; QaX1H: if (rename("\x2e\56\x2f" . $temp_path, "\x2e\x2e\57" . $true_path)) { goto vboo2; } goto uybEF; jVoEs: return $temp_path; goto BM398; muZoF: if (!(strpos($path_last, "\x21\x3d") !== false)) { goto XMZsn; } goto LXiyb; uybEF: $true_path = $temp_path; goto T91AA; BM398: FturV: goto muZoF; LXiyb: $vardir = current(explode("\41\x3d", $path_last)); goto zZbSa; OBsG_: if (!($path_last == $id)) { goto FturV; } goto jVoEs; vkL0t: $path_last = end(explode("\x2f", $temp_path)); goto OBsG_; WnxP9: if (!is_dir("\56\56\57" . $temp_path)) { goto eq45a; } goto QaX1H; KkJ7w: $id = $data["\x69\x64"]; goto vkL0t; vi1vK: XMZsn: goto WnxP9; u2vg7: eq45a: goto eOjzQ; eOjzQ: return $true_path; goto fPmo_; fPmo_: } protected function _toTree($list, $pk = "\151\x64", $pid = "\160\151\144", $child = "\x5f\143\150\151\154\x64", $root = 0) { goto Pfdx5; LG6pK: WM8o5: goto XSlmy; Pfdx5: $tree = array(); goto Ho5K_; wJtFC: return $tree; goto XNbGT; O8fyO: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; AERxt: } goto LG6pK; z2w0S: $refer = array(); goto O8fyO; wkDX5: pDEP8: goto wJtFC; XSlmy: foreach ($list as $key => $data) { goto v7jZV; b5DJb: $tree[] =& $list[$key]; goto B3SWn; CWUBD: Bls3m: goto b5DJb; q3c6C: if ($root == $parentId) { goto Bls3m; } goto TYSfy; TYSfy: if (!isset($refer[$parentId])) { goto m2Bpr; } goto znqmw; v7jZV: $parentId = $data[$pid]; goto q3c6C; znqmw: $parent =& $refer[$parentId]; goto FBp_V; FBp_V: $parent[$child][] =& $list[$key]; goto g4aHU; g4aHU: m2Bpr: goto PMr46; PMr46: goto hbz6H; goto CWUBD; VSOzg: Nk8oj: goto ZL7wx; B3SWn: hbz6H: goto VSOzg; ZL7wx: } goto blbHr; blbHr: OS3LC: goto wkDX5; Ho5K_: if (!is_array($list)) { goto pDEP8; } goto z2w0S; XNbGT: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto quFoN; u96D7: hLd6d: goto B5Po9; lEcd5: H5hpR: goto oyzMn; UT3lS: $chars .= "\x21\100\x23\x24\45\x5e\x26\52\x28\51"; goto icQAw; bg2ah: if (!$isnumber) { goto hLd6d; } goto V5Tz3; SZCU_: goto qaxQH; goto lEcd5; MDTZs: if (!($i < $length)) { goto H5hpR; } goto iAd1e; kC1oe: $max = strlen($chars) - 1; goto MiC5d; RU2mU: oqIEm: goto roR0r; VLbkf: $result = ''; goto kC1oe; quFoN: if (!$islowercase) { goto oqIEm; } goto JpgAB; xn0Vy: qaxQH: goto MDTZs; roR0r: if (!$isuppercase) { goto RmFrL; } goto IojlA; V5Tz3: $chars .= "\60\61\62\x33\64\65\x36\x37\x38\x39"; goto u96D7; iAd1e: $result .= $chars[rand(0, $max)]; goto Fz2ve; icQAw: y3zFl: goto VLbkf; W83BZ: RmFrL: goto bg2ah; oyzMn: return $result; goto D5T1u; Fz2ve: wy172: goto FKZ4G; JpgAB: $chars .= "\x61\142\x63\x64\x65\x66\x67\x68\x69\x6a\x6b\154\x6d\x6e\157\160\x71\x72\163\x74\x75\x76\x77\170\x79\x7a"; goto RU2mU; FKZ4G: $i++; goto SZCU_; B5Po9: if (!$isspecial) { goto y3zFl; } goto UT3lS; MiC5d: $i = 0; goto xn0Vy; IojlA: $chars .= "\x41\102\x43\104\x45\106\x47\x48\x49\x4a\x4b\114\115\x4e\x4f\120\x51\122\x53\124\x55\x56\127\130\131\x5a"; goto W83BZ; D5T1u: } protected function _UTF82GBK($str) { goto Ws1vw; acV3K: A5wyL: goto HyGj0; IR8oV: return $str; goto ZM_qI; HyGj0: return iconv("\x55\x54\x46\x2d\70", "\107\x42\x4b\57\57\111\107\x4e\x4f\x52\105", $str); goto s2Rsz; ZM_qI: goto A3IlU; goto acV3K; s2Rsz: A3IlU: goto hwptc; Ws1vw: if (stripos(php_uname("\163"), "\127\x69\156\144\157\x77") !== false) { goto A5wyL; } goto IR8oV; hwptc: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto HnsVY; UzDtI: FLptU: goto iwKPn; Icdxw: $realip = getenv("\x52\x45\x4d\117\124\x45\x5f\x41\104\x44\122"); goto b0THy; XInUL: if (isset($_SERVER["\110\124\124\120\x5f\x58\137\x46\x4f\x52\x57\101\x52\x44\105\104\x5f\x46\117\122"])) { goto UtE9_; } goto aWC_z; tts7h: if (getenv("\x48\124\124\x50\137\x43\114\111\105\x4e\x54\137\111\120")) { goto m1xzl; } goto Icdxw; lXHRE: if (getenv("\x48\x54\x54\120\137\130\x5f\x46\117\x52\x57\101\122\x44\105\104\x5f\106\x4f\122")) { goto A4xon; } goto tts7h; UnkBz: $realip = getenv("\110\x54\124\120\x5f\103\114\111\105\x4e\x54\137\x49\x50"); goto UzDtI; iHfm0: $realip = explode("\x2c", $realip); goto ki8on; QubdH: $realip = getenv("\x48\124\124\120\x5f\130\x5f\x46\117\x52\x57\x41\122\x44\105\x44\137\106\x4f\122"); goto iHfm0; bM69i: $realip = $realip[0]; goto hqX8I; b0THy: goto FLptU; goto PFXEo; LoZa4: $realip = $_SERVER["\110\x54\124\120\x5f\103\x4c\111\105\x4e\x54\x5f\x49\x50"]; goto SvyFt; BOioh: UtE9_: goto De_3s; hqX8I: $realip = empty($realip) ? $_SERVER["\122\x45\115\117\124\x45\x5f\101\104\x44\x52"] : $realip; goto rj8lH; ki8on: $realip = $realip[0]; goto bZU0Z; iwKPn: goto qdkYZ; goto qfWzm; De_3s: $realip = $_SERVER["\110\124\x54\120\x5f\x58\137\106\117\122\x57\x41\x52\x44\105\x44\x5f\106\117\x52"]; goto Nvnik; SvyFt: lX8fc: goto iAdPD; Wm94n: m1xzl: goto UnkBz; aWC_z: if (isset($_SERVER["\x48\x54\x54\x50\x5f\103\x4c\111\105\x4e\124\x5f\x49\x50"])) { goto JhLHq; } goto ecz2o; bZU0Z: $realip = empty($realip) ? $_SERVER["\x52\105\x4d\x4f\x54\x45\x5f\x41\x44\104\x52"] : $realip; goto eQiYf; HnsVY: if (isset($_SERVER)) { goto bah1K; } goto lXHRE; eQiYf: goto FLptU; goto Wm94n; iAdPD: qdkYZ: goto qdiZY; ViZds: JhLHq: goto LoZa4; ecz2o: $realip = $_SERVER["\x52\105\x4d\x4f\x54\105\137\101\104\104\122"]; goto qqjnE; qqjnE: goto lX8fc; goto BOioh; PFXEo: A4xon: goto QubdH; Nvnik: $realip = explode("\x2c", $realip); goto bM69i; qdiZY: return $realip; goto cYFFb; rj8lH: goto lX8fc; goto ViZds; qfWzm: bah1K: goto XInUL; cYFFb: } protected function _trash($item, $request_data) { goto nuXwV; Ju6wI: $data["\x74\x61\142\154\x65"] = $this->table; goto Iwo9K; nuXwV: $data = array(); goto D2Tbu; D2Tbu: $data["\141\144\x6d\151\156\x5f\151\144"] = $this->admin["\x69\144"]; goto iAWKk; xkDrp: $data["\163\164\141\164\x65"] = 0; goto pMJWK; pMJWK: $data["\143\x74\151\x6d\x65"] = time(); goto JyQfk; DS93T: $data["\164\x69\x74\154\145"] = $item["\164\151\164\x6c\145"]; goto KuuYF; Iwo9K: $data["\144\x61\164\141"] = json_encode($item); goto xkDrp; OuQCr: $data["\x6e\157\x74\145"] = $request_data["\156\157\x74\145"]; goto DS93T; KuuYF: $path = $request_data["\160\141\x74\x68"]; goto XsLL0; iAWKk: $data["\x61\144\x6d\x69\x6e\x5f\156\x61\155\145"] = $this->admin["\x6e\141\x6d\x65"]; goto OuQCr; XsLL0: $data["\160\x61\164\150"] = $path ? $item[$path] : ''; goto Ju6wI; JyQfk: return $this->db->insert("\x74\x72\x61\x73\x68", $data)->is(); goto HHKJK; HHKJK: } protected function _log($type, $data = array()) { goto xCSDg; pB1Hw: $data["\x74\171\x70\x65"] = $type; goto HOZVq; HcS8w: TlBg3: goto cxqEE; xCSDg: if (!($type != "\154\x6f\147\x69\x6e")) { goto TlBg3; } goto TzH5x; HOZVq: $data["\151\160"] = $this->_getIP(); goto o8UxP; cxqEE: $data["\x74\x61\x62\154\x65"] = $this->table; goto pB1Hw; TzH5x: $data["\x61\x64\x6d\x69\156\137\x69\144"] = $this->admin["\x69\x64"]; goto FWBo2; FWBo2: $data["\x61\144\x6d\151\x6e\x5f\x6e\141\x6d\145"] = $this->admin["\156\141\155\x65"]; goto QB22Q; QB22Q: $data["\x75\162\154"] = $_SERVER["\110\124\x54\120\x5f\122\105\106\x45\122\x45\x52"]; goto HcS8w; o8UxP: $data["\143\164\x69\x6d\145"] = time(); goto j8Ht8; j8Ht8: return $this->db->insert("\x6c\x6f\x67", $data)->is(); goto xDVFY; xDVFY: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
