<?php
//Copyright (c) 2016 iFeiwu.com
 class Log extends Item { function __construct() { $this->table = "\154\157\x67"; parent::__construct(); } protected function callbackPageAfter(&$data) { $data["\154\151\x73\164"] = $this->_getData($data["\x6c\x69\163\164"]); } protected function getLately() { $list = $this->db->select($this->table)->where("\x70\151\144\x20\75\x20\60")->order("\143\164\151\x6d\x65\40\104\x45\123\103")->limit(4)->all(); return $this->success($this->_getData($list)); } protected function postDelete($request_data) { goto LmoER; LmoER: $error = array(); goto dZcvd; uVxXD: return $this->success(); goto TAnMI; TAnMI: YecIk: goto en9Vd; hKO1I: goto YecIk; goto X2zSj; oMRKq: MA311: goto unsyf; unsyf: if (count($error) === 0) { goto FkVpi; } goto ZV3cn; GQ2G6: foreach ($ids as $id) { goto xpLTA; tVNr7: eTxmf: goto bEhAW; xqSWm: ZttiS: goto tVNr7; zxJV_: $error[] = $id; goto xqSWm; xpLTA: if (!$this->db->delete($this->table, array("\151\144", "\75", $id))->is()) { goto ZttiS; } goto zxJV_; bEhAW: } goto oMRKq; X2zSj: FkVpi: goto uVxXD; ZV3cn: return $this->error(); goto hKO1I; dZcvd: $ids = $request_data["\x69\x64"]; goto GQ2G6; en9Vd: } private function _getData($data) { goto o9gTV; dK57w: fYrQB: goto yzn0F; o9gTV: foreach ($data as $key => $value) { goto FVGRU; FVGRU: $type = $value["\x74\x79\x70\145"]; goto rX6aB; ydPPU: zmNq0: goto f_Mxf; rX6aB: $title = $value["\164\151\164\154\x65"]; goto K9q6Q; HrE7Q: switch ($type) { case "\x6c\157\147\151\156": goto F7Bhu; LYwcP: $data[$key]["\164\x69\164\154\145"] = "\347\231\xbb\xe5\x85\245\xe7\xbd\x91\347\253\x99\345\x90\216\345\x8f\xb0"; goto ArLeU; F7Bhu: $data[$key]["\x69\143\157\156"] = "\x61\x63\x63\x6f\165\x6e\x74"; goto LYwcP; ArLeU: goto zmNq0; goto rDJZT; rDJZT: case "\x61\144\144": goto X5i2r; X5i2r: $data[$key]["\x69\x63\157\156"] = "\160\x6c\165\163"; goto c6c0I; Gg_6m: goto zmNq0; goto TPx6u; c6c0I: $data[$key]["\x74\151\164\x6c\145"] = "\xe6\267\xbb\345\x8a\240\xe6\x95\xb0\346\x8d\xae\x3a\x26\156\x62\163\x70\73\74\x61\x20\150\162\x65\x66\75\x22" . ($url . "\46\x69\x64\x3d" . $value["\164\x61\x62\x6c\x65\137\x69\x64"]) . "\42\76" . $title . "\74\57\x61\x3e"; goto Gg_6m; TPx6u: case "\x75\x70\144\141\164\x65": goto ZF55O; ZF55O: $data[$key]["\x69\x63\157\x6e"] = "\x70\145\x6e\x63\x69\x6c"; goto TCVkN; TCVkN: $data[$key]["\164\151\x74\154\x65"] = "\346\233\264\xe6\226\260\346\225\xb0\346\x8d\256\72\46\x6e\142\163\x70\73\74\x61\x20\x68\x72\x65\146\x3d\x22" . $url . "\42\76" . $title . "\74\57\x61\76"; goto yE4EG; yE4EG: goto zmNq0; goto K8knR; K8knR: case "\x72\x65\x6d\157\166\145": goto G8P4f; msWYi: goto zmNq0; goto a2Ik9; G8P4f: $data[$key]["\151\x63\x6f\x6e"] = "\144\145\154\145\x74\x65\55\146\x6f\162\145\x76\x65\162"; goto xRu_t; xRu_t: $data[$key]["\164\x69\164\x6c\x65"] = "\xe7\247\273\351\x99\244\x26\156\142\163\160\73\x3c\x61\x20\x68\x72\x65\146\x3d\42" . $url . "\x22\x3e" . $title . "\x3c\x2f\x61\76\46\156\x62\x73\160\x3b\xe6\235\241\346\225\xb0\346\215\xae\345\210\260\345\x9b\x9e\xe6\x94\266\xe7\xab\231"; goto msWYi; a2Ik9: case "\162\x65\160\154\171": goto D3_Xc; HR7dr: goto zmNq0; goto E2Cls; TQOFl: $data[$key]["\164\x69\x74\x6c\x65"] = "\xe4\273\x8e\345\x9b\x9e\346\x94\xb6\347\253\231\346\201\242\345\244\x8d\46\156\142\163\160\x3b\x3c\141\x20\150\x72\145\146\x3d\x22" . $url . "\x22\76" . $title . "\x3c\x2f\141\x3e\x26\156\142\x73\x70\73\346\x9d\xa1\346\x95\xb0\xe6\x8d\xae"; goto HR7dr; D3_Xc: $data[$key]["\151\x63\x6f\x6e"] = "\x72\x65\x70\154\x79"; goto TQOFl; E2Cls: case "\144\145\154\145\x74\x65": $data[$key]["\151\143\157\x6e"] = "\144\x65\x6c\x65\164\x65\55\x76\141\x72\x69\x61\x6e\x74"; $data[$key]["\x74\151\164\x6c\x65"] = "\xe5\275\273\345\xba\x95\345\210\xa0\351\x99\xa4\46\x6e\x62\x73\x70\x3b\x3c\141\40\x68\x72\x65\x66\x3d\x22" . $url . "\42\76" . $title . "\x3c\57\141\x3e\x26\x6e\142\x73\x70\x3b\346\x9d\xa1\346\225\xb0\346\x8d\xae"; default: goto zmNq0; } goto B3lnn; f_Mxf: Uaehc: goto q60N7; B3lnn: wv8cl: goto ydPPU; K9q6Q: $url = $value["\165\162\x6c"]; goto HrE7Q; q60N7: } goto dK57w; yzn0F: return $data; goto pJ4nl; pJ4nl: } }
